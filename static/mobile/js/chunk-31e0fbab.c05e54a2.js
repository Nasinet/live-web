(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-31e0fbab"],{"0e80":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"seller-management",staticStyle:{"padding-top":"44px"}},[i("backer-header",{attrs:{title:"商品管理"}}),i("ul",{staticClass:"tabs"},[i("li",{class:{active:0===t.active},on:{click:function(e){return t.changeTab(0)}}},[t._v("待审核"),i("i")]),i("li",{class:{active:1===t.active},on:{click:function(e){return t.changeTab(1)}}},[t._v("已上架"),i("i")]),i("li",{class:{active:2===t.active},on:{click:function(e){return t.changeTab(2)}}},[t._v("已下架"),i("i")]),i("li",{class:{active:3===t.active},on:{click:function(e){return t.changeTab(3)}}},[t._v("审核被拒"),i("i")])]),i("scroll",{ref:"scroll",staticClass:"scroll",attrs:{clickable:"","is-finished":t.finished},on:{scrollToEnd:t.scrollToEnd}},t._l(t.list,(function(e,s){return i("div",{key:e.id,staticClass:"goods"},[i("div",{staticClass:"info"},[i("div",{staticClass:"img",style:{backgroundImage:"url("+e.thumb_urls.split(",")[0]+")"}}),i("div",{staticClass:"right"},[i("h4",{staticClass:"van-multi-ellipsis--l2"},[t._v(t._s(e.title))]),i("div",{staticClass:"size"},[i("span",[t._v(t._s(e.category.title))]),i("span",[t._v("已售"+t._s(e.sale_count)+"件")])]),i("p",{staticClass:"price"},[t._v("¥"+t._s(e.price))])])]),i("div",{staticClass:"btns"},[1===t.active||2===t.active?i("button",{on:{click:function(i){return t.toggleGoods(e.id,s)}}},[t._v(t._s(1===t.active?"下架商品":"上架"))]):t._e(),i("button",{on:{click:function(i){return t.$router.push("/seller/goods/edit/"+e.id)}}},[t._v("编辑商品")])])])})),0)],1)},a=[],n=(i("99af"),i("a434"),i("a750")),c=i("ef39"),l=i("60b3"),o=10,r={name:"seller-management",components:{BackerHeader:n["a"],Scroll:c["a"]},data:function(){return{active:0,list:[],page:1,loading:!1,finished:!0}},mounted:function(){this.getList()},methods:{toggleGoods:function(t,e){var i=this,s=this.$toast.loading();Object(l["b"])("/shop/shop/setGoodsSaleStatus",{status:1===this.active?2:1,goodsid:t}).then((function(){i.list.splice(e,1),s.close(),i.$nextTick((function(){i.$refs.scroll.refresh()}))})).catch((function(){setTimeout((function(){s.close()}),1e3)}))},changeTab:function(t){t!==this.active&&(this.active=t,this.page=1,this.list=[],this.getList())},scrollToEnd:function(){this.loading||(this.loading=!0,this.page++,this.getList())},getList:function(){var t=this,e=null;1===this.page&&(e=this.$skeLoading(".seller-management","100px")),Object(l["b"])("/shop/shop/getShopGoods",{type:this.active,page:this.page,size:o}).then((function(i){var s=i.data.data;t.list=t.list.concat(s),t.finished=s.length<o,e&&e.close(),t.$nextTick((function(){t.$refs.scroll.refresh(),t.loading=!1}))})).catch((function(){e&&e.close()}))}}},u=r,d=(i("8a93"),i("2877")),h=Object(d["a"])(u,s,a,!1,null,"0830064d",null);e["default"]=h.exports},"8a93":function(t,e,i){"use strict";var s=i("ed11"),a=i.n(s);a.a},a434:function(t,e,i){"use strict";var s=i("23e7"),a=i("23cb"),n=i("a691"),c=i("50c4"),l=i("7b0b"),o=i("65f0"),r=i("8418"),u=i("1dde"),d=i("ae40"),h=u("splice"),f=d("splice",{ACCESSORS:!0,0:0,1:2}),g=Math.max,v=Math.min,p=9007199254740991,b="Maximum allowed length exceeded";s({target:"Array",proto:!0,forced:!h||!f},{splice:function(t,e){var i,s,u,d,h,f,_=l(this),m=c(_.length),k=a(t,m),C=arguments.length;if(0===C?i=s=0:1===C?(i=0,s=m-k):(i=C-2,s=v(g(n(e),0),m-k)),m+i-s>p)throw TypeError(b);for(u=o(_,s),d=0;d<s;d++)h=k+d,h in _&&r(u,d,_[h]);if(u.length=s,i<s){for(d=k;d<m-s;d++)h=d+s,f=d+i,h in _?_[f]=_[h]:delete _[f];for(d=m;d>m-s+i;d--)delete _[d-1]}else if(i>s)for(d=m-s;d>k;d--)h=d+s-1,f=d+i-1,h in _?_[f]=_[h]:delete _[f];for(d=0;d<i;d++)_[d+k]=arguments[d+2];return _.length=m-s+i,u}})},ed11:function(t,e,i){}}]);
//# sourceMappingURL=chunk-31e0fbab.c05e54a2.js.map
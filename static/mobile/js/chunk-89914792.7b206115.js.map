{"version":3,"sources":["webpack:///./src/views/edit-address/edit-address.vue?2e5b","webpack:///./src/views/edit-address/edit-address.vue?0db6","webpack:///src/views/edit-address/edit-address.vue","webpack:///./src/views/edit-address/edit-address.vue?4311","webpack:///./src/views/edit-address/edit-address.vue","webpack:///./src/common/js/mixins.js","webpack:///./node_modules/core-js/modules/es.array.join.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","address","id","directives","name","rawName","value","expression","domProps","on","$event","preventDefault","inputBlur","target","composing","$set","showPicker","class","active","area","_v","_s","model","callback","$$v","submit","columns","onConfirm","staticRenderFns","mixins","components","BackHeader","Scroll","data","mobile","province","city","district","default","created","methods","join","msg","$toast","fail","addressid","component","blurInput","u","navigator","userAgent","isIOS","match","setTimeout","scrollHeight","document","documentElement","scrollTop","body","window","scrollTo","Math","max","$","IndexedObject","toIndexedObject","arrayMethodIsStrict","nativeJoin","ES3_STRINGS","Object","STRICT_METHOD","proto","forced","separator","call","undefined"],"mappings":"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","file":"js/chunk-89914792.7b206115.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit-address.vue?vue&type=style&index=0&id=397f31d9&scoped=true&lang=stylus&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit-address.vue?vue&type=style&index=0&id=397f31d9&scoped=true&lang=stylus&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"edit-address\"},[_c('back-header',{attrs:{\"title\":!_vm.address.id ? '新建收获地址' : '编辑收获地址'}}),_c('scroll',{attrs:{\"clickable\":\"\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.address.name),expression:\"address.name\"}],staticClass:\"input\",attrs:{\"type\":\"text\",\"placeholder\":\"收货人\"},domProps:{\"value\":(_vm.address.name)},on:{\"blur\":function($event){$event.preventDefault();return _vm.inputBlur($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.address, \"name\", $event.target.value)}}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.address.mobile),expression:\"address.mobile\"}],staticClass:\"input\",attrs:{\"type\":\"text\",\"placeholder\":\"手机号码\"},domProps:{\"value\":(_vm.address.mobile)},on:{\"blur\":function($event){$event.preventDefault();return _vm.inputBlur($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.address, \"mobile\", $event.target.value)}}}),_c('div',{staticClass:\"picker\",on:{\"click\":function($event){_vm.showPicker=true}}},[_c('label',{class:{active: _vm.address.area}},[_vm._v(_vm._s(_vm.address.area ? _vm.address.area : '选择地区'))]),_c('van-icon',{staticClass:\"icon-right\",attrs:{\"name\":\"arrow\"}})],1),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.address.address),expression:\"address.address\"}],attrs:{\"placeholder\":\"详细地址：如街道、楼牌号 等\"},domProps:{\"value\":(_vm.address.address)},on:{\"blur\":function($event){$event.preventDefault();return _vm.inputBlur($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.address, \"address\", $event.target.value)}}}),_c('div',{staticClass:\"set-default\"},[_c('label',[_vm._v(\"设置为默认地址\")]),_c('van-switch',{attrs:{\"active-color\":\"#FE2C55\",\"size\":\"0.66rem\",\"inactive-color\":\"#B2B2B2\"},model:{value:(_vm.address.default),callback:function ($$v) {_vm.$set(_vm.address, \"default\", $$v)},expression:\"address.default\"}})],1)]),_c('button',{staticClass:\"save\",on:{\"click\":_vm.submit}},[_vm._v(\"保存\")]),_c('van-popup',{attrs:{\"round\":\"\",\"position\":\"bottom\"},model:{value:(_vm.showPicker),callback:function ($$v) {_vm.showPicker=$$v},expression:\"showPicker\"}},[_c('van-picker',{attrs:{\"swipe-duration\":500,\"show-toolbar\":\"\",\"value-key\":\"name\",\"columns\":_vm.columns},on:{\"cancel\":function($event){_vm.showPicker = false},\"confirm\":_vm.onConfirm}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"edit-address\">\n    <back-header :title=\"!address.id ? '新建收获地址' : '编辑收获地址'\"/>\n    <scroll clickable>\n      <input class=\"input\" @blur.prevent=\"inputBlur\" v-model=\"address.name\" type=\"text\" placeholder=\"收货人\">\n      <input class=\"input\" @blur.prevent=\"inputBlur\" v-model=\"address.mobile\" type=\"text\" placeholder=\"手机号码\">\n      <div class=\"picker\" @click=\"showPicker=true\">\n        <label :class=\"{active: address.area}\">{{ address.area ? address.area : '选择地区' }}</label>\n        <van-icon name=\"arrow\" class=\"icon-right\" />\n      </div>\n      <textarea @blur.prevent=\"inputBlur\" v-model=\"address.address\" placeholder=\"详细地址：如街道、楼牌号 等\" />\n<!--      <div class=\"tags\">-->\n<!--        <label>地址标签</label>-->\n<!--        <div style=\"flex: 1\"></div>-->\n<!--        <p @click=\"address.tag='家'\" :class=\"{active: address.tag === '家'}\">家</p>-->\n<!--        <p @click=\"address.tag='公司'\" :class=\"{active: address.tag === '公司'}\">公司</p>-->\n<!--        <p @click=\"address.tag='学校'\" :class=\"{active: address.tag === '学校'}\">学校</p>-->\n<!--      </div>-->\n      <div class=\"set-default\">\n        <label>设置为默认地址</label>\n        <van-switch active-color=\"#FE2C55\" size=\"0.66rem\" inactive-color=\"#B2B2B2\" v-model=\"address.default\" />\n      </div>\n    </scroll>\n    <button class=\"save\" @click=\"submit\">保存</button>\n    <van-popup v-model=\"showPicker\" round position=\"bottom\">\n      <van-picker\n        :swipe-duration=\"500\"\n        show-toolbar\n        value-key=\"name\"\n        :columns=\"columns\"\n        @cancel=\"showPicker = false\"\n        @confirm=\"onConfirm\"\n      />\n    </van-popup>\n  </div>\n</template>\n\n<script>\nimport BackHeader from '../../components/back-header/back-header'\nimport Scroll from '../../components/scroll/scroll'\nimport location from '../../common/js/address'\nimport { post } from '../../common/js/http'\nimport { blurInput } from '../../common/js/mixins'\n\nexport default {\n  name: 'edit-address',\n  mixins: [blurInput],\n  components: {\n    BackHeader,\n    Scroll\n  },\n  data() {\n    return {\n      address: {\n        id: 0,\n        name: '',\n        area: '',\n        mobile: '',\n        province: '',\n        city: '',\n        district: '',\n        address: '',\n        default: 0\n      },\n      columns: location,\n      showPicker: false\n    }\n  },\n  created() {\n    const { address } = this.$route.params\n    if (address) {\n      this.address = address\n      this.address.area = this.address.province + this.address.city + this.address.district\n      this.address.default = !!this.address.default\n    }\n  },\n  methods: {\n    onConfirm(data) {\n      this.address.province = data[0]\n      this.address.city = data[1]\n      this.address.district = data[2]\n      this.address.area = data.join('')\n      this.showPicker = false\n    },\n    submit() {\n      let msg = ''\n      if (!this.address.name) msg = '请输入收货人'\n      if (!msg && !this.address.mobile) msg = '请输入手机号'\n      if (!msg && !this.address.province) msg = '请选择地区'\n      if (!msg && !this.address.address) msg = '请输入详细地址'\n      if (msg) {\n        this.$toast.fail(msg)\n        return\n      }\n      const id = this.address.id\n      delete this.address.id\n      post(id ? '/shop/user/editAddress' : '/shop/user/addAddress', {\n        addressid: id,\n        ...this.address\n      })\n        .then(() => {\n          this.$router.goBack()\n        })\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"stylus\">\n  @import \"../../common/style/variable.styl\"\n  ::v-deep\n    .van-ellipsis\n      font-size 28px\n    .van-picker__cancel\n      font-size 28px\n    .van-picker__confirm\n      font-size 28px\n      color $mall-theme-color\n    .van-picker__toolbar\n      height 80px\n.edit-address\n  height 100%\n  padding-top 86px\n  padding-bottom 130px\n  box-sizing border-box\n  background-color #FAF9F9\n  .input\n    display block\n    width calc(100% - 60px)\n    margin 0 auto\n    height 110px\n    border none\n    outline none\n    position relative\n    border-bottom 1px solid #F4F4F4\n    font-size 26px\n    background-color #fff\n    &::-webkit-input-placeholder\n      color #DBDBDB\n  .picker\n    height 110px\n    display flex\n    padding 0 30px\n    justify-content space-between\n    align-items center\n    background-color #fff\n    &>label\n      font-size 26px\n      color #DBDBDB\n      &.active\n        color #000\n    .icon-right\n      font-weight bold\n      font-size 24px\n      color #AEAEAE\n  textarea\n    display block\n    width 100%\n    box-sizing border-box\n    padding 20px 30px\n    background-color #fff\n    border none\n    outline none\n    height 168px\n    font-size 26px\n    resize none\n    &::-webkit-input-placeholder\n      color #DBDBDB\n  .tags\n    margin-top 25px\n    padding 0 30px\n    display flex\n    height 113px\n    align-items center\n    background-color #fff\n    &>label\n      font-size 26px\n      color #000000\n    &>p\n      margin-left 23px\n      width 97px\n      height 50px\n      border-radius 25px\n      line-height 50px\n      background #F3F3F3\n      font-size 26px\n      color #676767\n      text-align center\n      &.active\n        background #FFECF1\n        color #F75771\n  .set-default\n    margin-top 20px\n    padding 0 30px\n    display flex\n    justify-content space-between\n    height 113px\n    background-color #fff\n    align-items center\n    &>label\n      font-size 26px\n      color #000000\n  .save\n    position fixed\n    left 30px\n    bottom 20px\n    display block\n    width calc(100% - 60px)\n    height 89px\n    background-color $mall-theme-color\n    border none\n    outline none\n    border-radius 5px\n    font-size 30px\n    color #fff\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit-address.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit-address.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./edit-address.vue?vue&type=template&id=397f31d9&scoped=true&\"\nimport script from \"./edit-address.vue?vue&type=script&lang=js&\"\nexport * from \"./edit-address.vue?vue&type=script&lang=js&\"\nimport style0 from \"./edit-address.vue?vue&type=style&index=0&id=397f31d9&scoped=true&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"397f31d9\",\n  null\n  \n)\n\nexport default component.exports","export const blurInput = {\n  methods: {\n    inputBlur () {\n      const u = navigator.userAgent\n      const isIOS = !!u.match(/\\(i[^;]+;( U;)? CPU.+Mac OS X/)\n      if (isIOS) {\n        setTimeout(() => {\n          const scrollHeight = document.documentElement.scrollTop || document.body.scrollTop || 0\n          window.scrollTo(0, Math.max(scrollHeight - 1, 0))\n        }, 200)\n      }\n    }\n  }\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeJoin = [].join;\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n"],"sourceRoot":""}